import http from 'node:http';
import app from '../app.js';
import { dbClient } from '../lib/connectMongo.js'

const port = process.env.PORT || 3000;
const env = process.env.NODE_ENV ||Â 'development';

// Separar en un archivo server es opcional
// Lo necesitamos en caso de:
// Utilizar HTTPS custom
// Websockets
// Forzar versiones de http

const server = http.createServer(app);

server.listen(port, () => {
    dbClient.connect().then(() => {
        console.log(`[${env.toUpperCase()}] - Server running on http://localhost:${port}`);
    });
})